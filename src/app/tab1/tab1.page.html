<ion-header>
  <ion-toolbar>
    <ion-title>Hledání lokality</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-item>
    <ion-label position="floating">Město</ion-label>
    <ion-input
      type="text"
      placeholder="Např. Brno, Praha, Zlín"
      (ionInput)="onCityInput($event)">
    </ion-input>
  </ion-item>

  <ion-button expand="block" class="ion-margin-top" (click)="searchCity()">
    Vyhledat
  </ion-button>

  <ion-text color="danger" *ngIf="error">
    <p class="ion-margin-top">{{ error }}</p>
  </ion-text>

  <ion-spinner *ngIf="loading" class="ion-margin-top"></ion-spinner>

  <!-- KARTA S POČASÍM -->
  <ion-card class="ion-margin-top" *ngIf="currentWeather && !loading">
    <ion-card-header>
      <ion-card-title>
        {{ currentWeather.name }}
      </ion-card-title>
  
      <ion-card-subtitle *ngIf="currentWeather.weather && currentWeather.weather.length">
        {{ currentWeather.weather[0].description }}
      </ion-card-subtitle>
  
      <!-- tlačítko pro oblíbené -->
      <ion-button
          fill="clear"
          size="small"
          (click)="toggleFavorite()"
          [disabled]="loading || !currentWeather">
          <ion-icon [icon]="isFavorite ? star : starOutline"></ion-icon>
      </ion-button>

    </ion-card-header>
  
    <ion-card-content>
      <p *ngIf="currentWeather.main">Teplota: {{ currentWeather.main.temp }} °C</p>
      <p *ngIf="currentWeather.main">Pocitově: {{ currentWeather.main.feels_like }} °C</p>
      <p *ngIf="currentWeather.main">Vlhkost: {{ currentWeather.main.humidity }} %</p>
    </ion-card-content>
  </ion-card>
  

</ion-content>
