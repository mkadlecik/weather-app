<ion-header>
  <ion-toolbar>
    <ion-title>Historie</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-text color="medium" *ngIf="!favorites.length && !history.length && !loading">
    <p>Zatím žádná oblíbená města ani historie. Vyhledej nějaké město na prvním tabu.</p>
  </ion-text>

  <ion-spinner *ngIf="loading" class="ion-margin-top"></ion-spinner>

  <ion-text color="danger" *ngIf="error">
    <p class="ion-margin-top">{{ error }}</p>
  </ion-text>

  <!-- oblibene -->
  <ion-list *ngIf="favorites.length && !loading">
    <ion-list-header>
      Oblíbená města
    </ion-list-header>

    <ion-item *ngFor="let city of favorites" button (click)="selectFromFavorites(city)">
      <ion-label>
        {{ city }}
      </ion-label>

      <!-- tlacitko pro smazani z oblibenych -->
      <ion-button fill="clear" slot="end" (click)="removeFavorite(city); $event.stopPropagation()">
        <ion-icon [icon]="trash"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>

  <!-- historie vyhledavani -->
  <ion-list *ngIf="history.length && !loading">
    <ion-list-header>
      Naposledy hledaná města
    </ion-list-header>

    <ion-item *ngFor="let city of history" button (click)="selectFromFavorites(city)">
      <ion-label>
        {{ city }}
      </ion-label>
    </ion-item>
  </ion-list>

  <ion-button expand="block" color="medium" class="ion-margin-top" (click)="clearHistory()" [disabled]="!history.length || loading">
    Smazat historii
  </ion-button>

</ion-content>
